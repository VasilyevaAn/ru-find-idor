# Библиотека приемов по поиску IDOR(BOLA)

# Приемы

* Если есть несколько параметров, то проверить для каждого из них. Например, удаление файла из сделки осуществляется по deal_id, phone, file_id

```
DELETE /api/file?deal_id=X&phone=Y&file_id=Z
Host: test
Content-Type: application/json-patch+json
```
Добавив deal_id, phone своей сделки, а file_id чужой, то можно удалить чужой файл

* Если метод возвращает ошибку, то проверьте что сущность дествительно не создалась и не удалилась. Бывали случае, когда метод возвращал ошибку, но сущность все равно удалялась.

* Измените метод. Нельзя создать сущность через POST, попробуйте через PUT, PATCH
* 
 

# Инструменты

* IDOR легко тестируется: любым инструментом для тестирования api. Для анализа и blackbox тестирования рекомендую -  Burp Suite Community
* Можно добавлять в сценарии api-автотестов

# Расширения для Burp Suite для поиска IDOR

* Authorize - самый удобный на мой взгляд инструмента. Очень простой и с удо
* AuthMatrix
* AutoRepeater

# Где искать IDOR?

* Во всех методах CRUD: создание (англ. create), чтение (read), модификация (update), удаление (delete)